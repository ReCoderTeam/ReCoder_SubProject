<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!--폰트 적용-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">

    <link rel="stylesheet" th:href="@{/css/common/header.css}">
    <link rel="stylesheet" th:href="@{/css/common/footer.css}">
    <link rel="stylesheet" th:href="@{/css/common/style.css}">

    <link rel="stylesheet" th:href="@{/css/board/list.css}">


</head>
<body>
<header th:replace="~{/common/header::headerFragment}"></header>
<section>
    <div class="container">
        <!-- Sidebar -->
        <div th:replace="~{/board/sidebar::sidebarFragment}"></div>

        <!-- Main Content -->
        <div class="main-content">
            <div class="top-bar">
                <button type="button" th:onclick="|location.href='@{freeBoardRegist(categoryCode=${categoryCode})}'|">
                    등 록
                </button>
            </div>

            <!-- Table -->
            <div class="table-header">
                <div class="table-cell">번호</div>
                <div class="table-cell">작성자</div>
                <div class="table-cell">제목</div>
                <div class="table-cell">작성일</div>
            </div>

            <div>
                <div th:each="post, stat : ${postList}" style="display: flex; border-bottom: 1px solid gray; padding: 10px;">
                    <div style="width: 23%;" th:text="${postList.size() - stat.index}">1</div>
                    <div style="width: 35%;" th:text="${post.empId}">Sample Title</div>
                    <a style="width: 40%;" th:href="@{/board/postDetail(postId=${post.postId})}" th:text="${post.postTitle}">Sample Writer</a>
                    <div style="width: 30%;" th:text="${post.postCreationDate}">2024-01-01</div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="pagination">
                <button>&lt;</button>
                <button>1</button>
                <button>2</button>
                <button>3</button>
                <button>&gt;</button>
            </div>
        </div>
    </div>
</section>
<footer th:replace="~{/common/footer::footerFragment}"></footer>
<!--<script>-->
<!--    // 페이지 맨 위로 새로운 글을 추가하는 함수-->
<!--    function addNewPostToTop(postHTML) {-->
<!--        const postList = document.getElementById('post-list');-->
<!--        const newPost = document.createElement('div');-->
<!--        newPost.innerHTML = postHTML; // 서버에서 받아온 새 글 HTML을 삽입-->
<!--        postList.insertBefore(newPost, postList.firstChild); // 첫 번째 자식으로 추가-->
<!--    }-->

<!--    // 예시로 서버에서 새로운 게시글 데이터를 받아온 후 처리-->
<!--    // 여기에 서버에서 새 글 데이터를 받아오는 로직을 추가하세요.-->
<!--    function onNewPostAdded(post) {-->
<!--        const postHTML = `-->
<!--            <div style="display: flex; border-bottom: 1px solid gray; padding: 10px;">-->
<!--                <div style="width: 23%;">${post.index}</div>-->
<!--                <div style="width: 35%;">${post.writer}</div>-->
<!--                <a style="width: 40%;" href="/board/postDetail(postId=${post.id})">${post.title}</a>-->
<!--                <div style="width: 30%;">${post.creationDate}</div>-->
<!--            </div>-->
<!--        `;-->
<!--        addNewPostToTop(postHTML);-->
<!--    }-->
<!--</script>-->

</body>
</html>