<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- 공통 복사 -->
    <link rel="stylesheet" th:href="@{/css/admin/common/admin_header.css}">
    <link rel="stylesheet" th:href="@{/css/common/footer.css}">
    <link rel="stylesheet" th:href="@{/css/admin/common/admin_style.css}">
    <link rel="stylesheet" th:href="@{/css/admin/common/admin_circleBtn.css}">

    <link rel="stylesheet" th:href="@{/css/admin/admin_factoryAddressBook.css}">
</head>
<body>
<header th:replace="~{admin/common/admin_header::adminHeaderFragment}"></header>
<section>
    <div class="leftBox">
        <div th:replace="~{admin/common/admin_circle_menu::adminCircleMenuFragment}"></div>
    </div>

    <div class="rightBox">
        <div class="sideMenu">
            <div class="sideTitle">협력업체 관리</div>

            <ul class="sideMenuUl">
                <li id="showRegister" class="selected">협력업체 등록</li>
                <li id="showEdit">협력업체 수정</li>
            </ul>
        </div>
        <div class="menuMainBox" id="menuMainBox">
            <!-- 등록 화면 -->
            <div id="registerContainer" class="content-container">
                <h2>협력업체 등록</h2>
                <form id="addFactoryForm" onsubmit="event.preventDefault(); addFactory();">
                    <label for="fabName">업체명:</label>
                    <input type="text" id="fabName" required>

                    <label for="fabAddress">주소:</label>
                    <input type="text" id="fabAddress" required>

                    <label for="fabPhone">대표 연락처:</label>
                    <input type="text" id="fabPhone" placeholder="전화번호 입력" oninput="this.value = cleanPhoneNumber(this.value)">

                    <label for="managerName">담당자 이름:</label>
                    <input type="text" id="managerName" required>

                    <label for="managerPhone">담당자 연락처:</label>
                    <input type="text" id="managerPhone" placeholder="담당자 전화번호 입력" oninput="this.value = cleanPhoneNumber(this.value)">

                    <label for="fabEmail">이메일:</label>
                    <input type="email" id="fabEmail" required>

                    <label for="fabProduct">생산 제품:</label>
                    <input type="text" id="fabProduct" required>

                    <label for="fabImage">이미지 URL:</label>
                    <input type="text" id="fabImage" required>

                    <button type="submit">등록</button>
                </form>
            </div>

            <!-- 수정 화면 -->
            <div id="editContainer" class="content-container" style="display: none;">
                <h2>협력업체 수정</h2>
                <div class="search-container">
                    <label for="factory-search-input">업체 검색:</label>
                    <input type="text" id="factory-search-input" placeholder="업체명을 입력하세요...">
                </div>
                <div id="factory-list" class="factory-list"></div>
                <div id="editFactoryForm" style="display: none;">
                    <h3>협력업체 정보 수정</h3>
                    <form id="updateFactoryForm">
                        <input type="hidden" id="editFabId">
                        <label for="editFabName">업체명:</label>
                        <input type="text" id="editFabName" required>

                        <label for="editFabAddress">주소:</label>
                        <input type="text" id="editFabAddress" required>

                        <label for="editFabPhone">대표 연락처:</label>
                        <input type="text" id="editFabPhone" required>

                        <label for="editManagerName">담당자 이름:</label>
                        <input type="text" id="editManagerName" required>

                        <label for="editManagerPhone">담당자 연락처:</label>
                        <input type="text" id="editManagerPhone" required>

                        <label for="editFabEmail">이메일:</label>
                        <input type="email" id="editFabEmail" required>

                        <label for="editFabProduct">생산 제품:</label>
                        <input type="text" id="editFabProduct" required>

                        <label for="editFabImage">이미지 URL:</label>
                        <input type="text" id="editFabImage" required>

                        <button type="button" onclick="updateFactory()">수정하기</button>
                    </form>
                    <button id="backToList" onclick="goBackToList()">뒤로가기</button>
                </div>
            </div>
        </div>
    </div>
</section>
<footer th:replace="~{common/footer::footerFragment}"></footer>

<script th:src="@{/js/admin/admin_factoryAddressBook.js}"></script>
</body>
</html>